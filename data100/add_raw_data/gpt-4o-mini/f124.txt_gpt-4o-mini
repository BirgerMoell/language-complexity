To analyze the sentence "Det var först kriget mot Danmark, därefter mot Ryssland och slutligen det '30-åriga kriget' vilket slutade med den Westfaliska freden 1648" and calculate the average dependency distance, we first need to identify the tokens and their relationships.

Here are the relevant tokens and their head relationships:

1. Det → var (distance = 1)
2. var → (it's the head, distance = 0)
3. först → var (distance = 2)
4. kriget → var (distance = 2)
5. mot → kriget (distance = 1)
6. Danmark → mot (distance = 1)
7. därefter → var (distance = 2)
8. mot → (it's connected to the previous "därefter" and is a new preposition, but contextually tied to "kriget", distance = 2)
9. Ryssland → mot (distance = 1)
10. och → (it's a coordinating conjunction to connect clauses, distance = 1)
11. slutligen → var (distance = 2)
12. det → kriget (distance = 2)
13. "30-åriga kriget" → (quotes indicate a proper noun and refer back to "kriget", distance = 2)
14. vilket → "30-åriga kriget" (distance = 1)
15. slutade → vilket (distance = 1)
16. med → slutade (distance = 1)
17. den → freden (distance = 1)
18. Westfaliska → freden (distance = 1)
19. freden → slutade (distance = 1)
20. 1648 → freden (distance = 1)

Now, bring together the individual distances from each token to its head:

1. Det → 1
2. var → 0
3. först → 2
4. kriget → 2
5. mot → 1
6. Danmark → 1
7. därefter → 2
8. mot → 2
9. Ryssland → 1
10. och → 1
11. slutligen → 2
12. det → 2
13. "30-åriga kriget" → 2
14. vilket → 1
15. slutade → 1
16. med → 1
17. den → 1
18. Westfaliska → 1
19. freden → 1
20. 1648 → 1

Now, we can sum these distances:

1 + 0 + 2 + 2 + 1 + 1 + 2 + 2 + 1 + 1 + 2 + 2 + 2 + 1 + 1 + 1 + 1 + 1 + 1 + 1 =  25.

To find the average dependency distance, we divide the total distance by the number of tokens (which is 20):

Average Dependency Distance = Total Distance / Number of Tokens
= 25 / 20 = 1.25

Therefore, the average dependency distance for the sentence is **1.25**.