To analyze the provided Swedish sentence and generate a dependency tree, we identify the main components and their syntactic relationships. Here’s the analysis and corresponding dependency tree:

1. Först (1) - an adverb, root of the sentence.
2. efter (2) - preposition; head of the following noun phrase.
3. en (3) - determiner; modifies 'diskussion'.
4. diskussion (4) - noun; object of the preposition 'efter'.
5. där (5) - relative adverb; modifies 'diskussion'.
6. han (6) - pronoun; subject of 'imponerat'.
7. imponerat (7) - verb; the main action connected to 'han'.
8. på (8) - preposition; introduces the prepositional phrase 'på gruppen'.
9. gruppen (9) - noun; object of the preposition 'på'.
10. i (10) - preposition; introduces the prepositional phrase 'i skolans bibliotek'.
11. skolans (11) - possessive; modifies 'bibliotek'.
12. bibliotek (12) - noun; object of the preposition 'i'.
13. , (13) - punctuation; separates clauses.
14. och (14) - conjunction; connects two clauses.
15. efter (15) - preposition; head of the following noun phrase.
16. sitt (16) - possessive pronoun; modifies 'besök'.
17. andra (17) - adjective; modifies 'besök'.
18. besök (18) - noun; object of the preposition 'efter'.
19. hos (19) - preposition; introduces the prepositional phrase 'hos Julian'.
20. Julian (20) - proper noun; object of the preposition 'hos'.
21. , (21) - punctuation; separates clauses.
22. får (22) - verb; main verb of the main clause, subject 'Richard'.
23. Richard (23) - proper noun; subject of 'får'.
24. tillåtelse (24) - noun; direct object of 'får'.
25. att (25) - infinitive marker; introduces the infinitive phrase 'slopa alla andra ämnen utom engelskan'.
26. slopa (26) - verb; action in the infinitive phrase.
27. alla (27) - determiner; modifies 'ämnen'.
28. andra (28) - adjective; modifies 'ämnen'.
29. ämnen (29) - noun; direct object of 'slopa'.
30. utom (30) - preposition; introduces 'utom engelskan'.
31. engelskan (31) - noun; object of the preposition 'utom'.
32. och (32) - conjunction; connects two main clauses.
33. satsa (33) - verb; another action in the infinitive phrase.
34. helhjärtat (34) - adverb; modifies 'satsa'.
35. på (35) - preposition; introduces 'på studierna'.
36. studierna (36) - noun; object of the preposition 'på'.
37. i (37) - preposition; introduces 'i klassisk grekiska'.
38. klassisk (38) - adjective; modifies 'grekiska'.
39. grekiska (39) - noun; object of the preposition 'i'.

The resulting dependency tree is:

```
[(1, Först, 0), (2, efter, 4), (3, en, 4), (4, diskussion, 1), (5, där, 4), (6, han, 7), (7, imponerat, 4), (8, på, 9), (9, gruppen, 8), (10, i, 12), (11, skolans, 12), (12, bibliotek, 10), (13, ,, 22), (14, och, 15), (15, efter, 18), (16, sitt, 18), (17, andra, 18), (18, besök, 15), (19, hos, 20), (20, Julian, 19), (21, ,, 22), (22, får, 23), (23, Richard, 22), (24, tillåtelse, 22), (25, att, 26), (26, slopa, 24), (27, alla, 29), (28, andra, 29), (29, ämnen, 26), (30, utom, 31), (31, engelskan, 30), (32, och, 33), (33, satsa, 24), (34, helhjärtat, 33), (35, på, 36), (36, studierna, 35), (37, i, 39), (38, klassisk, 39), (39, grekiska, 37)]
```