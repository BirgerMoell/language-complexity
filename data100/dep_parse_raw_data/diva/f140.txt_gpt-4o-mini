To analyze the sentence "Vid midnatten blir allt klart med valet och sedan rapporterar man hur valresultatet ser ut." and produce a dependency tree, we can break down the sentence into its components and identify the relationships between them. 

Here is the corresponding dependency tree output:

```
[(1, Vid, 2), 
 (2, midnatten, 3), 
 (3, blir, 0), 
 (4, allt, 5), 
 (5, klart, 3), 
 (6, med, 7), 
 (7, valet, 5), 
 (8, och, 9), 
 (9, sedan, 10), 
 (10, rapporterar, 3), 
 (11, man, 10), 
 (12, hur, 13), 
 (13, valresultatet, 14), 
 (14, ser, 10), 
 (15, ut, 14), 
 (16, ., 0)]
```

In this tree:
- Each tuple represents (index, token, head index).
- The head of the sentence is "blir" (index 3); hence, its head index is 0.
- The dependencies show how each word relates to its head in the structure of the sentence, including the punctuation at the end.