Here is the analysis of the Swedish sentence:

The sentence is broken down into the following tokens:

1. Nu (adverb)
2. i (preposition)
3. efterhand (noun)
4. har (auxiliary verb)
5. jag (pronoun)
6. förstått (verb)
7. att (subordinating conjunction)
8. de (pronoun)
9. bara (adverb)
10. var (verb)
11. ute (adverb)
12. efter (preposition)
13. en (determiner)
14. identitet (noun)
15. i (preposition)
16. ett (determiner)
17. samhälle (noun)
18. där (subordinating conjunction)
19. alla (pronoun)
20. är (linking verb)
21. anonyma (adjective)
22. . (punctuation)

The dependency tree is as follows:

[(1, Nu, 4), (2, i, 3), (3, efterhand, 4), (4, har, 0), (5, jag, 4), (6, förstått, 4), (7, att, 10), (8, de, 10), (9, bara, 10), (10, var, 6), (11, ute, 10), (12, efter, 14), (13, en, 14), (14, identitet, 6), (15, i, 17), (16, ett, 17), (17, samhälle, 18), (18, där, 20), (19, alla, 20), (20, är, 14), (21, anonyma, 20), (22, ., 0)]

Here is a breakdown of the dependencies:
- Nu (1) is an adverb that modifies the verb har (4), so its head is 4.
- afterhand (3) is a noun that is modified by the preposition i (2), so its head is 4. 
- har (4) is the main auxiliary verb of the sentence, so it is the root.
- jag (5) is the subject of the verb har (4), so its head is also 4.
- förstått (6) is the main verb of the sentence, so its head is also har (4), and all other verbs in the sentence depend directly or indirectly on har.
- att (7) is a subordinating conjunction that introduces a subordinate clause, so its head is the verb var (10).
- var (10) is a verb in the subordinate clause that depends on the verb förstått (6).
- de (8) is the subject of the verb var (10), and bara (9) and ute (11) are adverbs that modify the verb var, so their heads are 10.
- efter (12) is a preposition that modifies the noun identitet (14), so its head is 14.
- en (13) is a determiner that modifies the noun identitet (14), so its head is also 14.
- i (15) is a preposition that modifies the noun samhälle (17), so its head is 17.
- ett (16) is a determiner that modifies the noun samhälle (17), so its head is 17.
- där (18) is a subordinating conjunction that introduces another subordinate clause, so its head is the verb är (20).
- alla (19) is the subject of the verb är (20).
- anonyma (21) is an adjective that modifies the verb är (20), so its head is also 20.
- The full stop (22) is the root punctuation, so its head is 0.