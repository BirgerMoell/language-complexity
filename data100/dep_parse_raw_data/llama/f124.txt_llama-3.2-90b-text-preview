To produce the dependency tree for the given Swedish sentence, we will use the following analysis:

* Det är ett subjekt (subject) och en pronomen (pronoun) som refererar till händelser i senare delen av meningen.
* var är ett copulaverb (linking verb) som bildar en nominal konstruktion med verkligt subjekt "kriget".
* först är ett adverb som anger tidsordningen.
* kriget är ett nomen som utgör det verkliga subjektet i meningen.
* mot Danmark är en prepositionsfras som anger krigets motståndare.
* därefter är ett adverb som anger tidsordningen.
* mot Ryssland är en prepositionsfras som uttrycker ytterligare motståndare i det samma krig.
* och är en konjunktion som binder ihop "Ryssland" och "slutligen".
* slutligen är ett adverb som anger tidsordningen.
* det är ett pronomen som återknyter till "det" i början av meningen.
* "30-åriga kriget" är ett attribuerat nomen med en komplext nominal konstruktion.
* vilket är ett relativpronomen som inleder en relativsats.
* slutade är en verb som anger krigets avslutande.
* med den Westfaliska freden är en prepositionsfras som anger den händelse som markerade kriget slutande.
* 1648 är ett temporalt talsatserativ adjektiv som uttrycker när händelsen inträffade.

Med denna analys kan vi skapa en dependency tree som beskriver grammatiska strukturer gällande relationer mellan meningsdelar. Nedan följer det resultatet av analysen i den form som krävs.

[(1, Det, 3), 
(2, var, 0), 
(3, först, 4), 
(4, kriget, 2), 
(5, mot, 4), 
(6, Danmark, 5), 
(7, därefter, 8), 
(8, mot, 7), 
(9, Ryssland, 8), 
(10, och, 11), 
(11, slutligen, 12), 
(12, det, 13), 
(13, "30-åriga, 14), 
(14, kriget", 4), 
(15, vilket, 16), 
(16, slutade, 2), 
(17, med, 18), 
(18, den, 19), 
(19, Westfaliska, 20), 
(20, freden, 17), 
(21, 1648, 16), 
(22, ., 0)]

Notering: Vi kan konstatera att det saknas deponerad eller förutsagd delar från meningen och en helhet av analysen är enkel, samtidigt som noggrannhet och nytta kan variera beroende på olika variationer.