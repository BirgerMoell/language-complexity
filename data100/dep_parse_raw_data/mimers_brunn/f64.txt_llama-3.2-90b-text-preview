To analyze the Swedish sentence and produce a dependency tree, I'll use the following steps:

1. Tokenize the sentence into individual words and punctuation marks.
2. Determine the part of speech (POS) for each token.
3. Identify the grammatical dependencies between tokens.

Here is the analysis:

**Tokenization:**
1. Nu
2. i
3. efterhand
4. har
5. jag
6. förstått
7. att
8. de
9. bara
10. var
11. ute
12. efter
13. en
14. identitet
15. i
16. ett
17. samhälle
18. där
19. alla
20. är
21. anonyma
22. full stop (.)

**Part of Speech (POS) tags:**
1. Adverb (Nu)
2. Preposition (i)
3. Adverb (efterhand)
4. Verb (har)
5. Pronoun (jag)
6. Verb (förstått)
7. Subjunction (att)
8. Pronoun (de)
9. Adverb (bara)
10. Verb (var)
11. Adverb (ute)
12. Preposition (efter)
13. Determiner (en)
14. Noun (identitet)
15. Preposition (i)
16. Determiner (ett)
17. Noun (samhälle)
18. Subjunction (där)
19. Determiner (alla)
20. Verb (är)
21. Adjective (anonyma)

**Dependency tree:**
[(1, Nu, 4), 
 (2, i, 3), 
 (3, efterhand, 4), 
 (4, har, 0), 
 (5, jag, 4), 
 (6, förstått, 4), 
 (7, att, 6), 
 (8, de, 10), 
 (9, bara, 10), 
 (10, var, 6), 
 (11, ute, 10), 
 (12, efter, 14), 
 (13, en, 14), 
 (14, identitet, 10), 
 (15, i, 17), 
 (16, ett, 17), 
 (17, samhälle, 21), 
 (18, där, 20), 
 (19, alla, 20), 
 (20, är, 21), 
 (21, anonyma, 17),
 (22, ., 4)]

In this dependency tree:

- "Nu" and "efterhand" are adverbial modifiers of the main verb "har".
- "jag" is the subject of the main verb "har".
- "förstått" is the main verb of the sentence, and it is linked to "har" as its auxiliary verb.
- "att" is a subjunction introducing the subordinate clause "de bara var ute efter en identitet".
- "de" is the subject of the subordinate verb "var".
- "bara" is an adverbial modifier of "var".
- "ute" is an adverbial modifier of "var".
- "efter" is a preposition introducing the prepositional phrase "efter en identitet".
- "en" is a determiner modifying the noun "identitet".
- "i" is a preposition introducing the prepositional phrase "i ett samhälle".
- "ett" is a determiner modifying the noun "samhälle".
- "där" is a subjunction introducing the subordinate clause "alla är anonyma".
- "alla" is a determiner modifying the subject "alla".
- "är" is the linking verb of the subordinate clause "alla är anonyma".
- "anonyma" is the predicative complement of the linking verb "är".
- The full stop at the end of the sentence is attached to the main verb "har".